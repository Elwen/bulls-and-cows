var getNum=function(){for(number=[];number.length<4;){let newNum=Math.floor(10*Math.random());number.indexOf(newNum)<0&&number.push(newNum)}return number},goal=getNum();const playerInput=document.querySelector("#player");playerInput.addEventListener("keyup",function(e){e.preventDefault(),13!==e.keyCode&&13!==e.which||document.querySelector("#guess-btn").click()});var guess=function(){let playerNum=playerInput.value,arr=[];if(4!==playerNum.length)document.querySelector(".form").classList.add("has-error");else{document.querySelector(".form").classList.remove("has-error");for(let i=0;i<4;i++){let newUserArrElement=parseInt(playerNum.substr(i,1));arr.push(newUserArrElement)}check(arr)}},check=function(par){let bulls=0,cows=0,turns=parseInt(document.querySelector(".turns").innerHTML);for(let i=0;i<4;i++)par[i]===goal[i]?bulls++:goal.indexOf(par[i])>=0&&cows++;if(turns--,document.querySelector(".turns").innerHTML=turns,0===turns||4===bulls){let status="проиграли",resultClass="bg-dark";4===bulls&&(status="выиграли",resultClass="bg-success"),endGame(par,turns,status,resultClass)}writeTurn(par,bulls,cows)},writeTurn=function(par,bulls,cows){let table=document.querySelector("#turnsList"),tableLine=table.children.length,newLine=document.createElement("tr");newLine.innerHTML=`<td>${tableLine}</td><td>${par.join("")}</td><td>${bulls}</td><td>${cows}</td>`,table.insertBefore(newLine,table.children[1])},endGame=function(par,turns,status,resultClass){document.querySelector(".result").innerHTML=`\n    <div class="card-header ${resultClass}">\n      <button class="btn btn-sm btn-link float-right" onclick="restartGame()"><i class="icon icon-refresh text-light"></i></button>\n      <span class="h4">Вы ${status}</span><br>\n      <span class="h5">Загаданное число: ${goal.join("")}</span>\n    </div>\n  `,document.querySelector("#guess-btn").disabled=!0},restartGame=function(){location.reload()};console.log("🐮🐮🐮🐮");